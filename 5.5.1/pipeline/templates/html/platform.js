const _0x28e827=_0x2683;function _0x2683(_0x26d5c2,_0x5d91e4){const _0xf32d48=_0xf32d();return _0x2683=function(_0x2683c2,_0x663d4a){_0x2683c2=_0x2683c2-0x1b0;let _0x5e69c2=_0xf32d48[_0x2683c2];return _0x5e69c2;},_0x2683(_0x26d5c2,_0x5d91e4);}(function(_0x256225,_0x307653){const _0x1bd701=_0x2683,_0x1e4454=_0x256225();while(!![]){try{const _0x30d178=-parseInt(_0x1bd701(0x1bf))/0x1+-parseInt(_0x1bd701(0x1fe))/0x2*(-parseInt(_0x1bd701(0x1b5))/0x3)+-parseInt(_0x1bd701(0x209))/0x4+-parseInt(_0x1bd701(0x1e9))/0x5+-parseInt(_0x1bd701(0x1c3))/0x6+parseInt(_0x1bd701(0x1d8))/0x7+-parseInt(_0x1bd701(0x1e5))/0x8*(-parseInt(_0x1bd701(0x1fc))/0x9);if(_0x30d178===_0x307653)break;else _0x1e4454['push'](_0x1e4454['shift']());}catch(_0x21988a){_0x1e4454['push'](_0x1e4454['shift']());}}}(_0xf32d,0x44f6d));function _0xf32d(){const _0x547560=['</style><script\x20type=\x22text/javascript\x22>','1320Pxobhb','useBase122','match','index.pug','2150985pQSePH','.js','inlineJsons','.meta.json','/assets/','urljoin','trampolinePath','VERSION','videos','pre','assets','BASE_URL','buildTemplate','scripts','Abstract\x20platform\x20is\x20not\x20aware\x20of\x20injection\x20chunks!','copy','images',';base64,','exists','32067DYZdRK','font/','8898JuvVAu','version','inlineImages','exports','inject','inlineBlobs','resources','renderFile','meta','relations','assembleMeta','2177340YkoRmc','targetFolder','toString','data:','replace','</head>','index.html','<head>','STATS','storeMeta','index','compress','readFile','map','post','api','unity','injectTrampoline','storeHTML','trampoline.pug','existsSync','getAssetsStatistic','getSounds','237dLehqE','resolve','generatePackageConfig','blobs','base64','getVideos','combineLibraries','paths','length','pug','92925hkSeRO','\x20src=\x22assets/','libraries.js','forceBase64','272052hixddR','slice','<style>','writeFile','escapeHTMLForTrampoline','inlineSounds','inlineVideos','combineJsons','readFileSync','video/','sounds','generateHTML','source.html','\x20src=\x22','.pug','join','filter','luna','forceUncompressed','templatePath','unbrotli.min.js','3191370EuEfgM','stringify','getMimeType','env','endsWith','combineScripts','</script>','indexOf','config','package','sourceFolder','startsWith'];_0xf32d=function(){return _0x547560;};return _0xf32d();}const HTML_TAG_REGEX=/<html[^>]*>/i,HEAD_OPENING_TAG_STRING=_0x28e827(0x210),HEAD_CLOSING_TAG_STRING=_0x28e827(0x20e),BODY_OPENING_TAG_REGEX=/<body[^>]*>/,BODY_CLOSING_TAG_REGEX=/<\/body>(\s)*(<\/html>)?(\s)*$/,ASSETS_BASED_SRC_ATTRIBUTE=/\ssrc="assets\//gi,INJECTION_MINIFICATION_CONFIG={'minifyCSS':!![],'minifyJS':!![],'collapseWhitespace':!![]},TRAMPOLINE_FILE_NAME='trampoline.js',renderChunks=async(_0x17ed0c,_0x4f13c8)=>{const _0x5a7c2f=_0x28e827,_0x3bd57b=_0x17ed0c[_0x5a7c2f(0x1d3)](_0x71f85b=>_0x71f85b[_0x5a7c2f(0x1dc)](_0x5a7c2f(0x1ea)))[_0x5a7c2f(0x216)](_0x1baf9f=>fs['readFileSync'](_0x1baf9f)[_0x5a7c2f(0x20b)]()),_0x3c7203=_0x17ed0c[_0x5a7c2f(0x1d3)](_0x4502da=>_0x4502da['endsWith'](_0x5a7c2f(0x1d1)))[_0x5a7c2f(0x216)](_0x57e229=>pug[_0x5a7c2f(0x205)](_0x57e229,_0x4f13c8)),_0x3de13c=_0x17ed0c['filter'](_0x57ca84=>_0x57ca84[_0x5a7c2f(0x1dc)]('.css'))[_0x5a7c2f(0x216)](_0x3e342c=>fs['readFileSync'](_0x3e342c)[_0x5a7c2f(0x20b)]());return minifyhtml(_0x5a7c2f(0x1c5)+_0x3de13c[_0x5a7c2f(0x1d2)]('\x0a')+_0x5a7c2f(0x1e4)+_0x3bd57b[_0x5a7c2f(0x1d2)](';')+_0x5a7c2f(0x1de)+_0x3c7203['join'](''),INJECTION_MINIFICATION_CONFIG);};module[_0x28e827(0x201)]=class Platform{constructor(_0x26eaf6){const _0x102621=_0x28e827;this[_0x102621(0x218)]=_0x26eaf6,this[_0x102621(0x207)]=[],this['compress']=!global[_0x102621(0x1e0)]['unity'][_0x102621(0x1d5)],this['useBase122']=!global['config'][_0x102621(0x219)][_0x102621(0x1c2)],this[_0x102621(0x208)]();}get['templatePath'](){const _0x2462d3=_0x28e827;return path[_0x2462d3(0x1b6)](__dirname,_0x2462d3(0x1e8));}get[_0x28e827(0x1ef)](){const _0x2c63f9=_0x28e827;return path[_0x2c63f9(0x1b6)](__dirname,_0x2c63f9(0x204),_0x2c63f9(0x1be),_0x2c63f9(0x1b1));}[_0x28e827(0x208)](){const _0x3f93b3=_0x28e827,_0xd4e520=global[_0x3f93b3(0x1e0)][_0x3f93b3(0x1ff)]||null,_0x2aa390=global[_0x3f93b3(0x1e0)]['engine']||(_0xd4e520?'luna':null),_0x54a5f3=path[_0x3f93b3(0x1d2)](global[_0x3f93b3(0x1bc)]['pipeline'],_0x3f93b3(0x1f0)),_0xcba2cf=_0x2aa390===_0x3f93b3(0x1d4)?_0xd4e520:null,_0x4e580e=fs[_0x3f93b3(0x1b2)](_0x54a5f3)?fs[_0x3f93b3(0x1cb)](_0x54a5f3)['toString']()['split']('\x0a')[0x0]:_0xcba2cf;this['meta']={'engine':_0x2aa390,'engineVersion':_0xd4e520,'pipelineVersion':_0x4e580e};}async['getInjectionChunks'](){const _0x20061c=_0x28e827;throw new Error(_0x20061c(0x1f7));}async[_0x28e827(0x212)](){const _0x5db490=_0x28e827,_0x572879=path[_0x5db490(0x1d2)](this[_0x5db490(0x218)]['targetFolder'],_0x5db490(0x1ec));await fs[_0x5db490(0x1c6)](_0x572879,JSON[_0x5db490(0x1d9)](this[_0x5db490(0x206)]));}async['bundle'](_0x15b5d=_0x28e827(0x20f)){const _0x3fb895=_0x28e827;this[_0x3fb895(0x1e1)]=this[_0x3fb895(0x1e1)]||{},await this['bundleResources'](),await this[_0x3fb895(0x218)][_0x3fb895(0x1b0)](await this[_0x3fb895(0x1f5)](),_0x15b5d);if(!process[_0x3fb895(0x1db)][_0x3fb895(0x211)])return;await this['api'][_0x3fb895(0x1b3)](this);}async['bundleResources'](_0x496412=_0x28e827(0x1f3)){const _0x71e174=_0x28e827;this[_0x71e174(0x1f6)]=await this['api'][_0x71e174(0x1dd)](null,this[_0x71e174(0x1e1)]['inlineScripts'],this['compress'],this[_0x71e174(0x1e6)],_0x496412),this[_0x71e174(0x1b8)]=await this[_0x71e174(0x218)]['combineBlobs'](this[_0x71e174(0x1e1)][_0x71e174(0x203)],this[_0x71e174(0x214)],this[_0x71e174(0x1e6)],_0x496412),this['jsons']=await this['api'][_0x71e174(0x1ca)](this[_0x71e174(0x1e1)][_0x71e174(0x1eb)],this[_0x71e174(0x214)],this[_0x71e174(0x1e6)],_0x496412),this[_0x71e174(0x1f9)]=await this[_0x71e174(0x218)]['getImages'](this[_0x71e174(0x1e1)][_0x71e174(0x200)],this['useBase122'],_0x496412),this[_0x71e174(0x1f1)]=await this[_0x71e174(0x218)][_0x71e174(0x1ba)](this[_0x71e174(0x1e1)][_0x71e174(0x1c9)],this['useBase122'],_0x496412),this[_0x71e174(0x1cd)]=await this[_0x71e174(0x218)][_0x71e174(0x1b4)](this['package'][_0x71e174(0x1c8)],this['useBase122'],_0x496412);}async[_0x28e827(0x202)](_0x499024=_0x28e827(0x20f),_0x2de288=_0x28e827(0x1f3),_0x4e77da=![],_0x1d6a35='',_0x5e7caa=''){const _0x31fad6=_0x28e827,_0x3271c8=path[_0x31fad6(0x1d2)](this[_0x31fad6(0x218)]['sourceFolder'],_0x31fad6(0x1cf)),_0x4b5b90=path['join'](this[_0x31fad6(0x218)][_0x31fad6(0x20a)],_0x499024),_0x591abf=await fs[_0x31fad6(0x215)](_0x3271c8),_0x3e57aa=await this['getInjectionChunks'](),_0x311e88=await this[_0x31fad6(0x1b7)](!![]),[_0x28f2fd,_0x18417d]=[await renderChunks(_0x3e57aa[_0x31fad6(0x1f2)],_0x311e88),await renderChunks(_0x3e57aa[_0x31fad6(0x217)],_0x311e88)];let _0x107fe4=_0x591abf['toString']();if(_0x107fe4['indexOf'](HEAD_OPENING_TAG_STRING)<0x0){const _0x15f169=_0x107fe4[_0x31fad6(0x1e7)](HTML_TAG_REGEX);if(_0x15f169){const _0x3ca4fc=_0x15f169[_0x31fad6(0x213)]+_0x15f169[0x0][_0x31fad6(0x1bd)];_0x107fe4=_0x107fe4[_0x31fad6(0x1c4)](0x0,_0x3ca4fc)+HEAD_OPENING_TAG_STRING+HEAD_CLOSING_TAG_STRING+_0x107fe4[_0x31fad6(0x1c4)](_0x3ca4fc);}else _0x107fe4=HEAD_OPENING_TAG_STRING+HEAD_CLOSING_TAG_STRING+_0x107fe4;}let _0x5b347e=_0x107fe4;const _0x5bd5e6=_0x5b347e[_0x31fad6(0x1df)](HEAD_OPENING_TAG_STRING)+HEAD_OPENING_TAG_STRING[_0x31fad6(0x1bd)];_0x5b347e=_0x5b347e['slice'](0x0,_0x5bd5e6)+_0x28f2fd+_0x5b347e['slice'](_0x5bd5e6);const _0x3d3bc9=_0x5b347e[_0x31fad6(0x1e7)](BODY_OPENING_TAG_REGEX)[0x0],_0x34eb36=_0x5b347e[_0x31fad6(0x1df)](_0x3d3bc9)+_0x3d3bc9['length'];_0x5b347e=_0x5b347e['slice'](0x0,_0x34eb36)+(_0x5e7caa?_0x5e7caa['pre']:'')+_0x5b347e[_0x31fad6(0x1c4)](_0x34eb36);const _0x5e7763=_0x5b347e[_0x31fad6(0x1df)](_0x5b347e[_0x31fad6(0x1e7)](BODY_CLOSING_TAG_REGEX)[0x0]);_0x5b347e=_0x5b347e[_0x31fad6(0x1c4)](0x0,_0x5e7763)+_0x18417d+(_0x5e7caa?_0x5e7caa[_0x31fad6(0x217)]:'')+_0x5b347e['slice'](_0x5e7763);const _0x12f3b7=path['join'](this['api'][_0x31fad6(0x1e2)],'assets');if(await fs[_0x31fad6(0x1fb)](_0x12f3b7)){const _0x56f70b=await fs['readdir'](_0x12f3b7);for(const _0x4f5bee of _0x56f70b){const _0x234057=path[_0x31fad6(0x1d2)](_0x12f3b7,_0x4f5bee),_0x209a97=path[_0x31fad6(0x1d2)](this[_0x31fad6(0x218)][_0x31fad6(0x20a)],_0x2de288,_0x4f5bee),_0x5abb46=this[_0x31fad6(0x218)][_0x31fad6(0x1da)](_0x234057),_0x55683a=_0x5abb46&&this[_0x31fad6(0x1e1)]&&(_0x5abb46[_0x31fad6(0x1e3)]('image/')&&this[_0x31fad6(0x1e1)][_0x31fad6(0x200)]||_0x5abb46[_0x31fad6(0x1e3)](_0x31fad6(0x1cc))&&this[_0x31fad6(0x1e1)][_0x31fad6(0x1c9)]||_0x5abb46[_0x31fad6(0x1e3)]('sound/')&&this[_0x31fad6(0x1e1)][_0x31fad6(0x1c8)]||_0x5abb46[_0x31fad6(0x1e3)](_0x31fad6(0x1fd))&&this['package'][_0x31fad6(0x200)]);if(_0x55683a){const _0x1a02cf=_0x31fad6(0x20c)+_0x5abb46+_0x31fad6(0x1fa)+fs['readFileSync'](_0x234057)[_0x31fad6(0x20b)](_0x31fad6(0x1b9));_0x5b347e=_0x5b347e['replace'](_0x31fad6(0x1c0)+_0x4f5bee+'\x22',_0x31fad6(0x1d0)+_0x1a02cf+'\x22');}else!await fs[_0x31fad6(0x1fb)](_0x209a97)&&await fs[_0x31fad6(0x1f8)](_0x234057,_0x209a97);}process[_0x31fad6(0x1db)][_0x31fad6(0x1f4)]&&(_0x5b347e=_0x5b347e[_0x31fad6(0x20d)](ASSETS_BASED_SRC_ATTRIBUTE,'\x20src=\x22'+process['env'][_0x31fad6(0x1f4)]+_0x31fad6(0x1ed)));}_0x5b347e=_0x5b347e[_0x31fad6(0x20d)](ASSETS_BASED_SRC_ATTRIBUTE,_0x31fad6(0x1d0)+_0x2de288+'/'),_0x4e77da&&(_0x5b347e=await this[_0x31fad6(0x21a)](_0x2de288,_0x5b347e,process[_0x31fad6(0x1db)][_0x31fad6(0x1f4)]||_0x1d6a35)),await fs['writeFile'](_0x4b5b90,_0x5b347e);}async['injectTrampoline'](_0x2ab2e9,_0x9b91be,_0x4c02a4=''){const _0x15c3e0=_0x28e827,_0x5e8e1b=path[_0x15c3e0(0x1d2)](this[_0x15c3e0(0x218)][_0x15c3e0(0x20a)],_0x2ab2e9);!await fs['exists'](_0x5e8e1b)&&await fs['mkdir'](_0x5e8e1b);const _0x26200d=this[_0x15c3e0(0x218)][_0x15c3e0(0x1c7)](_0x9b91be);await fs['writeFile'](path[_0x15c3e0(0x1d2)](_0x5e8e1b,TRAMPOLINE_FILE_NAME),_0x26200d);const _0x201873=await this['generatePackageConfig'](),_0xef4f70=global[_0x15c3e0(0x1ee)](_0x4c02a4,_0x2ab2e9)+'/';return this[_0x15c3e0(0x218)][_0x15c3e0(0x1ce)](this['trampolinePath'],{..._0x201873,'trampoline':{'path':global['urljoin'](_0x2ab2e9,TRAMPOLINE_FILE_NAME),'src':global[_0x15c3e0(0x1ee)](_0xef4f70,TRAMPOLINE_FILE_NAME)},'assetsUrl':_0xef4f70});}async[_0x28e827(0x1f5)](_0x486415){const _0x92d05b=_0x28e827,_0x42daae=_0x486415||await this['generatePackageConfig'](),_0x5ab917=await this['api'][_0x92d05b(0x1ce)](this[_0x92d05b(0x1d6)],_0x42daae);return this[_0x92d05b(0x218)]['patch'](_0x5ab917);}async[_0x28e827(0x1b7)](){const _0x4a42cb=_0x28e827;return this['api'][_0x4a42cb(0x1b7)](this);}async[_0x28e827(0x1bb)](_0x4d14fe){const _0x5b5229=_0x28e827,_0x25f98b=[{'src':path[_0x5b5229(0x1b6)](__dirname,'resources','js','pi.js')},{'src':path[_0x5b5229(0x1b6)](__dirname,_0x5b5229(0x204),'js',this[_0x5b5229(0x218)]['needsBrotliWithDictionary']()?'unbrotli-legacy.min.js':_0x5b5229(0x1d7))}];return this[_0x5b5229(0x218)][_0x5b5229(0x1dd)](_0x25f98b,![],![],this[_0x5b5229(0x1e6)],_0x4d14fe,_0x5b5229(0x1c1));}};